$C = "../Common.ui";
@WhiteText = TextButtonStyle (
    Default: (LabelStyle: (TextColor: #FFFFFF, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
);

@GreenText = TextButtonStyle (
    Default: (LabelStyle: (TextColor: #18E314, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
);
$C.@PageOverlay {

  $C.@Container {
    Anchor: (Width: 1400, Height: 700);

    #Title {
      Group {
        LayoutMode: Top;

        Group {
          $C.@Title {
            @Text = "Just Enough Tales";
          }
          $C.@HeaderSearch {}
        }

        Label #SearchHint {
          Text: "Search tip: Use @mod to filter by namespace, -term to exclude";
          Style: (
            FontSize: 11,
            TextColor: #888888,
            HorizontalAlignment: Center
          );
          Padding: (Top: 2, Bottom: 5);
          Anchor: (Height: 18);
        }
      }
    }

    #Content {
      LayoutMode: Left;

      Group #ItemSection {
        FlexWeight: 2;
        LayoutMode: Top;
        Padding: (Left: 10, Right: 5);

        Group #FilterSection {
          LayoutMode: Left;
          Padding: (Left: 8, Right: 8, Top: 8, Bottom: 5);
          Background: (Color: #1a1a1a(0.4));
          Anchor: (Height: 50);

          TextButton #FilterTool {
            FlexWeight: 1;
            Anchor: (Height: 36, Right: 5);
            Text: "Tools";
            Style: TextButtonStyle (
                Default: (LabelStyle: (TextColor: #FFFFFF, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
            );
          }
          TextButton #FilterWeapon {
            FlexWeight: 1;
            Anchor: (Height: 36, Right: 5);
            Text: "Weapons";
            Style: TextButtonStyle (
                Default: (LabelStyle: (TextColor: #FFFFFF, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
            );
          }
          TextButton #FilterArmor {
            FlexWeight: 1;
            Anchor: (Height: 36, Right: 5);
            Text: "Armor";
            Style: TextButtonStyle (
                Default: (LabelStyle: (TextColor: #FFFFFF, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
            );
          }
          TextButton #FilterConsumable {
            FlexWeight: 1;
            Anchor: (Height: 36, Right: 5);
            Text: "Consumables";
            Style: TextButtonStyle (
                Default: (LabelStyle: (TextColor: #FFFFFF, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
            );
          }
          TextButton #FilterBlock {
            FlexWeight: 1;
            Anchor: (Height: 36, Right: 5);
            Text: "Blocks";
            Style: TextButtonStyle (
                Default: (LabelStyle: (TextColor: #FFFFFF, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
            );
          }
          TextButton #FilterCraftable {
            FlexWeight: 1;
            Anchor: (Height: 36, Right: 5);
            Text: "Craftable";
            Style: TextButtonStyle (
                Default: (LabelStyle: (TextColor: #FFFFFF, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
            );
          }
          TextButton #FilterNonCraftable {
            FlexWeight: 1;
            Anchor: (Height: 36, Right: 10);
            Text: "Non-Craftable";
            Style: TextButtonStyle (
                Default: (LabelStyle: (TextColor: #FFFFFF, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
            );
          }

          Button #ClearFilters {
            Anchor: (Width: 36, Height: 36);
            Background: (Color: #2a2a2a(0.6));
            Style: (Hovered: (Background: #3a3a3a(0.8)), Pressed: (Background: #4a4a4a(0.9)));
            LayoutMode: Middle;

            ItemIcon #ClearFiltersIcon {
              Anchor: (Width: 28, Height: 28);
              Visible: true;
            }
          }
        }

        // Checkboxes and grid resizing adapted from BIV (BetterItemViewer)
        Group #OptionsBar {
          LayoutMode: Left;
          Padding: (Left: 8, Right: 8, Top: 5, Bottom: 5);
          Background: (Color: #1a1a1a(0.4));
          Anchor: (Height: 40);

          $C.@CheckBoxWithLabel #ShowSalvager {
            @Text = "Show Salvager Recipes";
            Padding: (Right: 15);
          }

          $C.@CheckBoxWithLabel #ShowHiddenItems {
            @Text = "Show Hidden Items";
            Padding: (Right: 15);
          }

          Label {
            Text: "Grid:";
            Style: (FontSize: 14, TextColor: #ffffff, VerticalAlignment: Center);
            Padding: (Right: 5);
          }

          $C.@DropdownBox #GridLayout {
            Anchor: (Width: 100, Height: 28);
          }

          Group {
            FlexWeight: 1;
          }
        }

        Group #ItemCardContainer {
          FlexWeight: 1;
          LayoutMode: TopScrolling;
          ScrollbarStyle: $C.@DefaultScrollbarStyle;

          Group #ItemCards {
            LayoutMode: Top;
          }
        }

        Group #ItemPagination {
          LayoutMode: Left;
          Padding: (Top: 5, Bottom: 5);
          Anchor: (Height: 45);

          Button #PrevItemPage {
            Anchor: (Width: 35, Height: 35);
            Background: (Color: #2a2a2a(0.6));
            Style: (Hovered: (Background: #3a3a3a(0.9)), Pressed: (Background: #4a4a4a(1.0)));
            LayoutMode: Middle;
            Visible: false;

            ItemIcon #PrevItemPageIcon {
              Anchor: (Width: 28, Height: 28);
              Visible: true;
            }
          }

          Label #ItemPageInfo {
            FlexWeight: 1;
            Style: (
              FontSize: 13,
              TextColor: #aaaaaa,
              HorizontalAlignment: Center,
              VerticalAlignment: Center
            );
            Padding: (Full: 8);
            Anchor: (Left: 10, Right: 10);
          }

          Button #NextItemPage {
            Anchor: (Width: 35, Height: 35);
            Background: (Color: #2a2a2a(0.6));
            Style: (Hovered: (Background: #3a3a3a(0.9)), Pressed: (Background: #4a4a4a(1.0)));
            LayoutMode: Middle;
            Visible: false;

            ItemIcon #NextItemPageIcon {
              Anchor: (Width: 28, Height: 28);
              Visible: true;
            }
          }
        }

        Group #HistoryBar {
          LayoutMode: Top;
          Padding: (Top: 5);
          Anchor: (Height: 55);

          Group #HistoryHeader {
            LayoutMode: Left;
            Anchor: (Height: 18);
            Padding: (Left: 5);

            Button #ToggleHistory {
              Anchor: (Width: 18, Height: 18);
              Style: (Hovered: (Background: #3a3a3a(0.8)));
              LayoutMode: Middle;

              ItemIcon #ToggleHistoryIcon {
                Anchor: (Width: 16, Height: 16);
                Visible: true;
              }
            }

            Label #HistoryLabel {
              Text: "History";
              Style: (FontSize: 11, TextColor: #888888, VerticalAlignment: Center);
              Padding: (Left: 2);
            }

            Button #ClearHistory {
              Anchor: (Width: 18, Height: 18, Left: 8);
              Style: (Hovered: (Background: #3a3a3a(0.8)));
              LayoutMode: Middle;

              ItemIcon #ClearHistoryIcon {
                Anchor: (Width: 14, Height: 14);
                Visible: true;
              }
            }
          }

          Group #HistoryContent {
            LayoutMode: Left;
            Padding: (Top: 3, Left: 5, Right: 5);
            Background: (Color: #1a1a1a(0.4));
            Anchor: (Height: 34);

            Group #HistoryItems {
              LayoutMode: Left;
            }
          }
        }
      }

      Group #RecipePanel {
        FlexWeight: 1;
        LayoutMode: Top;
        Padding: (Left: 5);
        Visible: false;

        Group #SelectedItemBar {
          LayoutMode: Top;
          Padding: (Full: 10, Bottom: 5);
          Background: (Color: #1a1a1a(0.6));

          Group #ItemHeader {
            LayoutMode: Left;

            ItemIcon #SelectedIcon {
              Anchor: (Width: 96, Height: 96);
              Visible: true;
            }

            Group {
              LayoutMode: Top;
              Padding: (Left: 10);
              FlexWeight: 1;

              Label #SelectedName {
                Style: (
                  FontSize: 30,
                  RenderBold: true,
                  TextColor: #ffffff
                );
              }

              Label #RecipeInfo {
                Style: (
                  FontSize: 12,
                  TextColor: #aaaaaa
                );
              }

              Label #ItemId {
                Style: (
                  FontSize: 10,
                  TextColor: #666666
                );
                Padding: (Top: 2);
              }

              Group #GiveButtonGroup {
                LayoutMode: Left;
                Padding: (Top: 8);
                Visible: false;

                TextButton #GiveItemButton {
                  Anchor: (Width: 90, Height: 24);
                  Text: "Give Item";
                  Style: $C.@SmallSecondaryTextButtonStyle;
                }

                Group {
                  Anchor: (Width: 8);
                }

                TextButton #GiveItemStackButton {
                  Anchor: (Width: 100, Height: 24);
                  Text: "Give Stack";
                  Style: $C.@SmallSecondaryTextButtonStyle;
                }
              }
            }

            Button #PinButton {
              Anchor: (Width: 36, Height: 36);
              Background: (Color: #2a2a2a(0.6));
              Style: (Hovered: (Background: #3a3a3a(0.8)), Pressed: (Background: #4a4a4a(0.9)));
              LayoutMode: Middle;

              ItemIcon #PinIcon {
                Anchor: (Width: 32, Height: 32);
                Visible: true;
              }
            }
            Button #PinToHudButton {
              Anchor: (Width: 36, Height: 36);
              Background: (Color: #2a2a2a(0.6));
              Style: (Hovered: (Background: #3a3a3a(0.8)), Pressed: (Background: #4a4a4a(0.9)));
              LayoutMode: Middle;

              ItemIcon #HudIcon {
                Anchor: (Width: 32, Height: 32);
                Visible: true;
              }
            }

          }

          Group #ItemStatsSection {
            LayoutMode: Top;
            Padding: (Top: 10);
            Visible: false;

            Label #ItemStats {
              Style: (
                FontSize: 11,
                TextColor: #aaccff
              );
            }
          }
        }

        Group #SectionButtons {
          LayoutMode: Left;
          Padding: (Top: 10, Bottom: 5);
          Anchor: (Height: 50);

          TextButton #ToggleModeButton {
            Anchor: (Width: 110, Height: 40);
            Text: "Craft";
            Style: TextButtonStyle(
              Default: (LabelStyle: (FontSize: 13, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
              Hovered: (LabelStyle: (FontSize: 14, TextColor: #ffffff, RenderBold: false, HorizontalAlignment: Center, VerticalAlignment: Center), Background: #3a3a3a(0.8)),
              Pressed: (LabelStyle: (FontSize: 14, TextColor: #ffffff, RenderBold: false, HorizontalAlignment: Center, VerticalAlignment: Center), Background: #3a3a3a(0.9)),
              Sounds: $C.@ButtonSounds
            );
            Background: #2a2a2a(0.6);
            Padding: (Full: 8);
          }

          Group {
            Anchor: (Width: 10);
          }

          TextButton #UsesButton {
            Anchor: (Width: 110, Height: 40);
            Text: "Usage";
            Style: TextButtonStyle(
              Default: (LabelStyle: (FontSize: 13, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
              Hovered: (LabelStyle: (FontSize: 14, TextColor: #ffffff, RenderBold: false, HorizontalAlignment: Center, VerticalAlignment: Center), Background: #3a3a3a(0.8)),
              Pressed: (LabelStyle: (FontSize: 14, TextColor: #ffffff, RenderBold: false, HorizontalAlignment: Center, VerticalAlignment: Center), Background: #3a3a3a(0.9)),
              Sounds: $C.@ButtonSounds
            );
            Background: #2a2a2a(0.6);
            Padding: (Full: 8);
          }

          Group {
            Anchor: (Width: 10);
          }

          TextButton #ObtainedFromButton {
            Anchor: (Width: 110, Height: 40);
            Text: "Drops";
            Style: TextButtonStyle(
              Default: (LabelStyle: (FontSize: 13, TextColor: #ffffff, RenderBold: true, HorizontalAlignment: Center, VerticalAlignment: Center)),
              Hovered: (LabelStyle: (FontSize: 14, TextColor: #ffffff, RenderBold: false, HorizontalAlignment: Center, VerticalAlignment: Center), Background: #3a3a3a(0.8)),
              Pressed: (LabelStyle: (FontSize: 14, TextColor: #ffffff, RenderBold: false, HorizontalAlignment: Center, VerticalAlignment: Center), Background: #3a3a3a(0.9)),
              Sounds: $C.@ButtonSounds
            );
            Background: #2a2a2a(0.6);
            Padding: (Full: 8);
          }
        }

        Group #RecipeListContainer {
          FlexWeight: 1;
          LayoutMode: TopScrolling;
          ScrollbarStyle: $C.@DefaultScrollbarStyle;

          Group #RecipeList {
            LayoutMode: Top;
          }
        }

        Group #RecipePagination {
          LayoutMode: Left;
          Padding: (Top: 10, Bottom: 15);
          Anchor: (Height: 50);

          Button #PrevRecipe {
            Anchor: (Width: 35, Height: 35);
            Background: (Color: #2a2a2a(0.6));
            Style: (Hovered: (Background: #3a3a3a(0.9)), Pressed: (Background: #4a4a4a(1.0)));
            LayoutMode: Middle;

            ItemIcon #PrevRecipeIcon {
              Anchor: (Width: 28, Height: 28);
              Visible: true;
            }
          }

          Label #PageInfo {
            FlexWeight: 1;
            Style: (
              FontSize: 14,
              TextColor: #ffffff,
              HorizontalAlignment: Center,
              VerticalAlignment: Center
            );
            Background: #2a2a2a(0.6);
            Padding: (Full: 8);
            Anchor: (Left: 10, Right: 10);
          }

          Button #NextRecipe {
            Anchor: (Width: 35, Height: 35);
            Background: (Color: #2a2a2a(0.6));
            Style: (Hovered: (Background: #3a3a3a(0.9)), Pressed: (Background: #4a4a4a(1.0)));
            LayoutMode: Middle;

            ItemIcon #NextRecipeIcon {
              Anchor: (Width: 28, Height: 28);
              Visible: true;
            }
          }
        }
      }
    }
  }
}