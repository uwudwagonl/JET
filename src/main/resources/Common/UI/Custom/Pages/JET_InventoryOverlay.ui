// JET Inventory Overlay - Combined inventory page with JET browser on right
// This replaces the standard inventory page with inventory + JET browser

$C = "../Common.ui";

// Full screen container
Group {
  LayoutMode: Left;
  Anchor: (Left: 0, Right: 0, Top: 0, Bottom: 0);

  // Left side: Main inventory area (uses built-in inventory layouts)
  Group #MainInventory {
    FlexWeight: 1;
    LayoutMode: Center;

    // Player Inventory container
    Group #InventoryContainer {
      Visible: false;
      LayoutMode: Center;
      
      Label {
        Style: (FontSize: 14, TextColor: #888888, HorizontalAlignment: Center);
        Text: "Inventory";
      }
    }

    // Bench/Crafting container
    Group #BenchContainer {
      Visible: false;
      LayoutMode: Center;
      
      Label {
        Style: (FontSize: 14, TextColor: #888888, HorizontalAlignment: Center);
        Text: "Crafting Bench";
      }
    }
  }

  // Right side: JET Browser Panel
  Group #JETPanel {
    Anchor: (Width: 330);
    LayoutMode: Top;
    Background: #1a1a1a(0.95);
    Padding: (Full: 8);

    // Header
    Group #Header {
      LayoutMode: Left;
      Anchor: (Height: 28);
      Padding: (Bottom: 6);

      Label #Title {
        Style: (
          FontSize: 13,
          RenderBold: true,
          TextColor: #f0a030
        );
        Text: "JET Browser";
        Padding: (Right: 8);
      }

      Label #ItemCount {
        Style: (
          FontSize: 10,
          TextColor: #777777
        );
        FlexWeight: 1;
        Text: "0 items";
      }
    }

    // Search bar - use HeaderSearch from Common.ui
    Group #SearchBarContainer {
      Anchor: (Height: 30);
      Padding: (Bottom: 6);
      $C.@HeaderSearch {}
    }

    // Item grid with scroll
    Group #ItemGridContainer {
      FlexWeight: 1;
      LayoutMode: TopScrolling;
      ScrollbarStyle: $C.@DefaultScrollbarStyle;
      Background: #202020(0.6);
      Padding: (Full: 3);

      Group #ItemGrid {
        LayoutMode: Top;
      }
    }

    // Pagination
    Group #Pagination {
      LayoutMode: Left;
      Anchor: (Height: 28);
      Padding: (Top: 6);

      TextButton #PrevPage {
        Anchor: (Width: 45, Height: 24);
        Text: "<";
        Style: TextButtonStyle(
          Default: (LabelStyle: (FontSize: 12, TextColor: #ffffff)),
          Hovered: (Background: #3a3a3a(0.9)),
          Pressed: (Background: #4a4a4a),
          Sounds: $C.@ButtonSounds
        );
        Background: #2a2a2a(0.8);
      }

      Label #PageInfo {
        FlexWeight: 1;
        Style: (
          FontSize: 11,
          TextColor: #999999,
          HorizontalAlignment: Center
        );
        Text: "1/1";
      }

      TextButton #NextPage {
        Anchor: (Width: 45, Height: 24);
        Text: ">";
        Style: TextButtonStyle(
          Default: (LabelStyle: (FontSize: 12, TextColor: #ffffff)),
          Hovered: (Background: #3a3a3a(0.9)),
          Pressed: (Background: #4a4a4a),
          Sounds: $C.@ButtonSounds
        );
        Background: #2a2a2a(0.8);
      }
    }

    // Recipe Preview (shown when item selected)
    Group #RecipePreview {
      Visible: false;
      LayoutMode: Top;
      Background: #252525(0.9);
      Padding: (Full: 8, Top: 6);
      Anchor: (Height: 120);

      // Header with close button
      Group #PreviewHeader {
        LayoutMode: Left;
        Anchor: (Height: 36);
        Padding: (Bottom: 6);

        ItemIcon #SelectedIcon {
          Anchor: (Width: 32, Height: 32);
          Visible: true;
        }

        Label #SelectedName {
          Style: (
            FontSize: 12,
            RenderBold: true,
            TextColor: #ffffff
          );
          Padding: (Left: 8);
          FlexWeight: 1;
        }

        TextButton #CloseRecipe {
          Anchor: (Width: 24, Height: 24);
          Text: "X";
          Style: TextButtonStyle(
            Default: (LabelStyle: (FontSize: 14, TextColor: #888888)),
            Hovered: (Background: #3a3a3a(0.9)),
            Pressed: (Background: #4a4a4a),
            Sounds: $C.@ButtonSounds
          );
          Background: #2a2a2a(0.6);
        }
      }

      Label #RecipeInfo {
        Style: (
          FontSize: 10,
          TextColor: #888888
        );
        Padding: (Bottom: 4);
      }

      Group #RecipeDisplay {
        FlexWeight: 1;
        LayoutMode: Top;
      }
    }

    // Hint
    Label #Hint {
      Style: (
        FontSize: 9,
        TextColor: #444444,
        HorizontalAlignment: Center
      );
      Text: "Click item for recipes - ESC to close";
      Padding: (Top: 4);
    }
  }
}
